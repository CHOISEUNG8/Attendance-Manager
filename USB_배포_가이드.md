# USB 배포 가이드

## USB로 EXE 파일만 전달 시 동작 방식

### ✅ 정상 동작합니다!

현재 코드는 다음과 같이 동작합니다:

1. **EXE 파일에 데이터베이스 파일 포함**
   - `wb_attendance_v4_1.spec` 파일에 `leave_attendance.db`가 포함되어 있습니다.
   - 빌드 시 현재 디렉토리의 `leave_attendance.db` 파일이 EXE에 포함됩니다.

2. **첫 실행 시 데이터베이스 파일 복사**
   - EXE 실행 시 포함된 데이터베이스 파일을 사용자 AppData 폴더로 복사합니다.
   - 위치: `C:\Users\[사용자명]\AppData\Roaming\근태관리프로그램\leave_attendance.db`

3. **이후 모든 데이터 저장**
   - 모든 데이터는 AppData 폴더에 저장됩니다.
   - USB에서 실행해도 데이터는 PC에 저장됩니다.

## 배포 방법

### 방법 1: EXE 파일만 전달 (권장)
- ✅ **장점**: 간단하고 편리
- ✅ **동작**: EXE 파일만 USB에 복사하여 전달
- ⚠️ **주의**: 빌드 시 포함된 데이터베이스 파일의 내용이 초기 데이터로 사용됩니다.

### 방법 2: EXE + 데이터베이스 파일 전달
- EXE 파일과 `leave_attendance.db` 파일을 함께 전달
- 사용자가 데이터베이스 파일을 EXE와 같은 폴더에 배치
- EXE 실행 시 해당 데이터베이스 파일을 사용

## 빌드 시 주의사항

### 초기 데이터 포함 여부

1. **빈 데이터베이스로 시작하려면**
   - 빌드 전에 `leave_attendance.db` 파일을 삭제하거나 빈 데이터베이스로 초기화
   - 또는 빌드 시 데이터베이스 파일을 포함하지 않도록 spec 파일 수정

2. **초기 데이터(직원 정보 등)를 포함하려면**
   - 빌드 전에 `leave_attendance.db` 파일에 직원 정보 등 초기 데이터 입력
   - 빌드 시 해당 데이터베이스 파일이 EXE에 포함됨

## USB 배포 체크리스트

- [ ] EXE 파일 빌드 완료
- [ ] 빌드 시 `leave_attendance.db` 파일이 포함되었는지 확인
- [ ] 초기 데이터가 필요한 경우 빌드 전에 데이터베이스에 입력
- [ ] USB에 EXE 파일 복사
- [ ] 다른 PC에서 테스트 실행

## 사용자 안내

다른 PC에서 EXE 파일을 실행하면:
1. 첫 실행 시 AppData 폴더에 데이터베이스 파일이 자동 생성됩니다.
2. 모든 데이터는 PC에 저장되므로 USB는 필요 없습니다.
3. USB에서 직접 실행해도 데이터는 PC에 저장됩니다.

## 문제 해결

### 데이터가 저장되지 않는 경우
1. AppData 폴더 권한 확인
2. EXE 파일을 관리자 권한으로 실행
3. 방화벽/보안 프로그램 확인

### 초기 데이터가 없는 경우
- 빌드 시 데이터베이스 파일이 포함되지 않았을 수 있습니다.
- 빌드 전에 `leave_attendance.db` 파일에 초기 데이터를 입력하고 재빌드하세요.

